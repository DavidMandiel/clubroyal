(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{81:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(18),r=n.n(a),s=n(5),i=n(10),l=n(4),u=n(3),o=n.n(u),d=n(7),b="SET_ALERT",j="REMOVE_ALERT",h="SHOW_MODAL",p="HIDE_MODAL",m="REGISTER_SUCCESS",O="REGISTER_FAIL",x="LOGIN_SUCCESS",f="LOGIN_FAIL",v="USER_LOADED",g="LOGOUT",y="FETCH_ALL_CLUBS",N="FETCH_ALL_EVENTS",C="CLUBS_LOADING",E="CLUB_ERROR",k="CLUB_CREATED",R="CLUB_DELETED",w="APPROVE_JOIN_REQUEST",T="DECLINE_JOIN_REQUEST",_="REMOVE_MEMBER",L="EVENTS_LOADING",S="EVENT_CREATED",q="EVENT_UPDATED",I="EVENT_ERROR",A="OPEN_EVENT_TYPE",D="HIDE_EVENT_TYPE",U="LEAVE_CLUB",P="JOIN_EVENT",B="LEAVE_EVENT",M=n(9),H=n.n(M),J=n(85),V=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;return function(c){var a=Object(J.a)();c({type:b,payload:{msg:e,alertType:t,id:a}}),setTimeout((function(){return c({type:j,payload:a})}),n)}},G=function(e){e?H.a.defaults.headers.common["x-auth-token"]=e:delete H.a.defaults.headers.common["x-auth-token"]},F=function(){return function(e){e({type:L})}},Y=function(e){return function(){var t=Object(d.a)(o.a.mark((function t(n){var c,a,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return F(),c=[],a=[],t.prev=3,t.next=6,H.a.get("/api/events/");case 6:r=t.sent,a=r.data,e.regclubs.map((function(e){return a=a.filter((function(t){return t.club._id!==e._id}))})),e.regclubs.map((function(e){return c=c.concat(e.events)})),e.regevents.map((function(e){return c=c.filter((function(t){return t._id!==e._id}))})),n({type:N,payload:{membersEvents:c,eventsArr:a}}),t.next=19;break;case 14:t.prev=14,t.t0=t.catch(3),console.log(t.t0),n(V(TypeError,"danger")),n({type:E});case 19:case"end":return t.stop()}}),t,null,[[3,14]])})));return function(e){return t.apply(this,arguments)}}()},K=function(e){return function(){var t=Object(d.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(F()),t.prev=1,t.next=4,H.a.put("/api/events/join-event/".concat(e));case 4:t.sent,n(ee()),n({type:P}),n(V("Your are registered to game","blue")),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(1),t.t0.response.data.errors.forEach((function(e){n(V(e.msg,"danger"))})),n({type:I});case 15:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},W=function(e){return function(){var t=Object(d.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(F()),t.prev=1,t.next=4,H.a.put("/api/events/unjoin/".concat(e));case 4:t.sent,n({type:B}),n(ee()),n(V("You are no longer register","blue")),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(1),t.t0.response.data.errors.forEach((function(e){n(V(e.msg,"danger"))})),n({type:I});case 15:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},Q=n(45),X=function(e){return function(){var t=Object(d.a)(o.a.mark((function t(n){var c,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:C}),t.prev=1,t.next=4,H.a.get("/api/clubs");case 4:c=t.sent,a=[],c.data.map((function(t){0===e.pendingclubrequest.filter((function(e){return e._id===t._id})).length&&0===e.regclubs.filter((function(e){return e._id===t._id})).length&&a.push(t)})),n({type:y,payload:a}),t.next=16;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0),t.t0.response.data.errors.forEach((function(e){n(V(e.msg,"danger"))})),n({type:E});case 16:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},z=function(e){return function(){var t=Object(d.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:C}),t.prev=1,t.next=4,H.a.put("/api/clubs/join/".concat(e));case 4:return t.sent,t.next=7,n(ee());case 7:return t.next=9,n({type:"CLUB_JOIN_REQUEST"});case 9:n(V("Your request was sent to club manager","success")),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(1),n(V(t.t0.response.data.msg,"danger")),n({type:E});case 16:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}()},Z=function(e){return function(){var t=Object(d.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:C}),t.prev=1,t.next=4,H.a.put("/api/clubs/cancel-join-request/".concat(e));case 4:return t.sent,t.next=7,n(V("Your request to join was canceled","success"));case 7:return t.next=9,n({type:"DELETE_CLUB_JOIN_REQUEST"});case 9:n(ee()),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(1),t.t0.response.data.errors.forEach((function(e){n(V(e.msg,"danger"))})),n({type:E});case 17:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}()},$=function(e){return function(){var t=Object(d.a)(o.a.mark((function t(n){var c,a,r,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:C}),t.prev=1,t.next=4,H.a.delete("/api/clubs/un_join/".concat(e));case 4:t.sent,n(V("You are no longer a member of the club","primary")),n({type:U}),n(ee()),t.next=17;break;case 10:t.prev=10,t.t0=t.catch(1),c=t.t0.response.data.errors,console.log(c),a=Object(Q.a)(c);try{for(a.s();!(r=a.n()).done;)s=r.value,n(V(s.msg,"danger"))}catch(i){a.e(i)}finally{a.f()}n({type:E});case 17:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},ee=function(){return function(){var e=Object(d.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&G(localStorage.token),e.prev=1,e.next=4,H.a.get("https://club-royal.herokuapp.com/api/users/loaduser");case 4:n=e.sent,t({type:v,payload:n.data}),t(X(n.data)),t(Y(n.data)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),t(V(e.t0.response.data.msg,"danger"));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},te=function(){return function(e){e({type:g})}},ne=n(0),ce=Object(l.b)((function(e){return{isAuthenticated:e.authReducer.isAuthenticated,isloading:e.authReducer.loading,user:e.authReducer.user}}),(function(e){return{loadUser:function(){return e(ee())}}}))((function(e){return e.isAuthenticated?Object(ne.jsx)(i.a,{to:"/dashboard"}):Object(ne.jsx)("div",{className:"landing",children:Object(ne.jsxs)("div",{className:"content-container",children:[Object(ne.jsx)("h1",{className:"x-large",children:"Welcome to PokerPlace"}),Object(ne.jsx)("p",{children:"Join, create and get updates on any poker game around you"}),Object(ne.jsxs)("div",{className:"buttons",children:[Object(ne.jsxs)("div",{className:"social-links card-rows",children:[Object(ne.jsx)("span",{children:Object(ne.jsx)("i",{className:"fab fa-facebook"})}),Object(ne.jsx)("span",{children:Object(ne.jsx)("i",{className:"fab fa-linkedin"})}),Object(ne.jsx)("span",{children:Object(ne.jsx)("i",{className:"fab fa-instagram-square"})}),Object(ne.jsx)("span",{children:Object(ne.jsx)("i",{className:"fab fa-twitter-square"})}),Object(ne.jsx)("span",{children:Object(ne.jsx)("i",{className:"fab fa-pinterest-square"})})]}),Object(ne.jsxs)("div",{children:[Object(ne.jsx)(s.b,{to:"/register",className:"btn btn-light-outline",children:"Sign Up"}),Object(ne.jsx)(s.b,{to:"/login",className:"btn btn-light-outline",children:"Login"})]})]})]})})})),ae=n(6),re=Object(l.b)((function(e){return{isAuthenticated:e.authReducer.isAuthenticated,isLoading:e.authReducer.loading,user:e.authReducer.user}}),(function(e){return{onLogout:function(){return e(te())},getAllClubs:function(t){return e(X(t))},fetchAllEvents:function(){return e(Y())},loadUser:function(){e(ee())}}}))((function(e){var t=Object(c.useState)(!1),n=Object(ae.a)(t,2),a=n[0],r=n[1],l=Object(i.g)(),u=Object(ne.jsxs)("ul",{children:[Object(ne.jsx)("li",{children:Object(ne.jsx)(s.b,{to:"/about",onClick:function(){r(!a)},children:"About"})}),Object(ne.jsx)("li",{children:Object(ne.jsx)(s.b,{to:"/register",onClick:function(){r(!a)},children:"Register"})}),Object(ne.jsx)("li",{children:Object(ne.jsx)(s.b,{to:"/login",onClick:function(){r(!a)},children:"Login"})})]}),o=Object(ne.jsxs)("ul",{className:"menu-links",children:[Object(ne.jsx)("li",{children:Object(ne.jsxs)(s.b,{to:"/clubs",onClick:function(){e.getAllClubs(e.user),r(!a)},children:[Object(ne.jsx)("span",{children:Object(ne.jsx)("i",{className:"fal fa-club"})}),"Clubs"]})}),Object(ne.jsx)("li",{children:Object(ne.jsxs)(s.b,{to:"/",onClick:function(){r(!a)},children:[Object(ne.jsx)("span",{children:Object(ne.jsx)("i",{className:"fal fa-diamond"})}),"Events"]})}),Object(ne.jsx)("li",{children:Object(ne.jsxs)(s.b,{to:"/admin",onClick:function(){r(!a),e.getAllClubs(e.user)},children:[Object(ne.jsx)("span",{children:Object(ne.jsx)("i",{className:"fal fa-spade"})}),"Manage"]})}),Object(ne.jsx)("li",{children:Object(ne.jsxs)(s.b,{to:"/about",onClick:function(){r(!a)},children:[Object(ne.jsx)("span",{children:Object(ne.jsx)("i",{className:"fal fa-heart"})}),"About"]})}),Object(ne.jsx)("li",{children:Object(ne.jsxs)(s.b,{to:"/",onClick:function(){e.loadUser(),r(!a)},children:[Object(ne.jsx)("span",{children:Object(ne.jsx)("i",{className:"fal fa-home-lg-alt"})}),"Home"]})}),Object(ne.jsx)("li",{children:Object(ne.jsxs)(s.b,{to:"/",onClick:function(){r(!a),e.onLogout()},children:[Object(ne.jsx)("span",{className:"hide-sm",children:Object(ne.jsx)("i",{className:"fal fa-sign-out"})}),"Logout"]})})]});return Object(ne.jsxs)("div",{className:"navbar bg-dark",children:[Object(ne.jsxs)("div",{className:"navbar-head",children:[Object(ne.jsxs)("div",{className:"navbar-title",children:[Object(ne.jsxs)("div",{className:"go-back",onClick:function(){return l.goBack()},style:e.isAuthenticated?{display:"flex"}:{display:"none"},children:[Object(ne.jsx)("i",{className:"fal fa-long-arrow-left"}),Object(ne.jsx)("p",{children:"Back"})]}),Object(ne.jsx)(s.b,{to:"#!",children:e.isAuthenticated?Object(ne.jsxs)("div",{className:"card-rows",children:[Object(ne.jsx)("img",{src:e.user.avatar,alt:"avatar"}),Object(ne.jsxs)("h4",{children:["Hi ",e.user.name.toUpperCase()]})]}):Object(ne.jsxs)("div",{className:"card-rows",children:[Object(ne.jsx)("img",{src:"/images/default-avatar.png",alt:"avatar"}),Object(ne.jsx)("h4",{children:Object(ne.jsx)("span",{children:" Hello Guest "})})]})})]}),Object(ne.jsx)("div",{className:"hamburger",onClick:function(){r(!a)},children:Object(ne.jsx)("span",{children:Object(ne.jsx)("i",{className:"fas fa-bars"})})})]}),Object(ne.jsx)("div",{className:a?"menu-items m-fadeIn":"menu-items m-fadeOut",children:e.isAuthenticated?o:u})]})})),se=Object(l.b)((function(e){return{isAuthenticated:e.authReducer.isAuthenticated,isLoading:e.authReducer.loading,user:e.authReducer.user}}),(function(e){return{onLogout:function(){return e(te())},getAllClubs:function(t){return e(X(t))},fetchAllEvents:function(){return e(Y())},loadUser:function(){e(ee())}}}))((function(e){var t=Object(c.useState)(!1),n=Object(ae.a)(t,2),a=n[0],r=n[1];Object(i.g)();return Object(ne.jsx)("div",{className:"footer-bar",children:e.isAuthenticated?Object(ne.jsxs)("ul",{className:"menu-links",children:[Object(ne.jsx)("li",{children:Object(ne.jsx)(s.b,{to:"/",onClick:function(){e.loadUser(),r(!a)},children:Object(ne.jsxs)("div",{children:[Object(ne.jsx)("i",{className:"fal fa-home-lg-alt"}),Object(ne.jsx)("p",{children:"Home"})]})})}),Object(ne.jsx)("li",{children:Object(ne.jsx)(s.b,{to:"/clubs",onClick:function(){e.getAllClubs(e.user),r(!a)},children:Object(ne.jsxs)("div",{children:[Object(ne.jsx)("i",{className:"fal fa-club"}),Object(ne.jsx)("p",{children:"Clubs"})]})})}),Object(ne.jsx)("li",{children:Object(ne.jsx)(s.b,{to:"/",onClick:function(){r(!a)},children:Object(ne.jsxs)("div",{children:[Object(ne.jsx)("i",{className:"fal fa-diamond"}),Object(ne.jsx)("p",{children:"Events"})]})})}),Object(ne.jsx)("li",{children:Object(ne.jsx)(s.b,{to:"/admin",onClick:function(){r(!a),e.getAllClubs(e.user)},children:Object(ne.jsxs)("div",{children:[Object(ne.jsx)("i",{className:"fal fa-spade"}),Object(ne.jsx)("p",{children:"Manage"})]})})}),Object(ne.jsx)("li",{children:Object(ne.jsx)(s.b,{to:"/about",onClick:function(){r(!a)},children:Object(ne.jsxs)("div",{children:[Object(ne.jsx)("i",{className:"fal fa-info-circle"}),Object(ne.jsx)("p",{children:"About"})]})})})]}):null})})),ie=n(11),le=n(2),ue=Object(l.b)((function(e){return{isAuthenticated:e.authReducer.isAuthenticated}}),(function(e){return{onAlert:function(t,n){return e(V(t,n))},onLogin:function(t){return e(function(e){return function(){var t=Object(d.a)(o.a.mark((function t(n){var c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H.a.post("/api/users/login",e);case 3:c=t.sent,n({type:x,payload:c.data.token}),n(ee()),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),n(V(t.t0.response.data.msg,"danger")),n({type:f});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=Object(c.useState)({email:"",password:""}),n=Object(ae.a)(t,2),a=n[0],r=n[1],l=a.email,u=a.password,b=function(e){return r(Object(le.a)(Object(le.a)({},a),{},Object(ie.a)({},e.target.name,e.target.value)))},j=function(){var t=Object(d.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{e.onLogin({email:l,password:u})}catch(n){console.log(n),e.onAlert(n.msg,"danger")}case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return e.isAuthenticated?Object(ne.jsx)(i.a,{to:"/dashboard"}):Object(ne.jsxs)("div",{className:"login",children:[Object(ne.jsxs)("div",{children:[Object(ne.jsx)("h1",{children:"PokerPlace"}),Object(ne.jsx)("h1",{children:"Sign In"})]}),Object(ne.jsxs)("form",{children:[Object(ne.jsx)("p",{children:"Sign into Your Account"}),Object(ne.jsx)("div",{children:Object(ne.jsx)("input",{type:"email",placeholder:"Email Address",name:"email",required:!0,value:l,onChange:function(e){return b(e)}})}),Object(ne.jsx)("div",{children:Object(ne.jsx)("input",{type:"password",placeholder:"Password",name:"password",minLength:"6",required:!0,value:u,onChange:function(e){return b(e)}})})]}),Object(ne.jsxs)("div",{className:"submit-div",children:[Object(ne.jsx)("button",{className:"btn-primary-outline",onClick:function(e){j(e)},children:"Login"}),Object(ne.jsxs)("p",{className:"my-1",children:["Don't have an account? ",Object(ne.jsx)(s.b,{to:"/register",children:"Sign Up"})]})]})]})})),oe=Object(l.b)((function(e){return{alert:e.alertReducer}}))((function(e){return null!=e.alert?e.alert.map((function(e){return Object(ne.jsxs)("div",{className:"alert alert-".concat(e.alertType),children:[e.msg," "]},e.id)})):null})),de=Object(l.b)((function(e){return{isAuthenticated:e.authReducer.isAuthenticated}}),(function(e){return{onAlert:function(t,n){return e(V(t,n))},onRegister:function(t){return e(function(e){return function(){var t=Object(d.a)(o.a.mark((function t(n){var c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H.a.post("/api/users/register",e);case 3:c=t.sent,n({type:m,payload:c.data}),n(ee()),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),n(V(t.t0.response.data.msg,"danger")),n({type:O});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=Object(c.useState)({name:"",email:"",password:"",password2:""}),n=Object(ae.a)(t,2),a=n[0],r=n[1],l=a.name,u=a.email,o=a.password,d=a.password2,b=function(e){return r(Object(le.a)(Object(le.a)({},a),{},Object(ie.a)({},e.target.name,e.target.value)))};return e.isAuthenticated?Object(ne.jsx)(i.a,{to:"/dashbord"}):Object(ne.jsxs)("div",{className:"register",children:[Object(ne.jsxs)("div",{children:[Object(ne.jsx)("h1",{className:"large text-primary",children:"PokerPlace"}),Object(ne.jsx)("h1",{className:"large text-primary",children:"Sign Up"})]}),Object(ne.jsxs)("form",{children:[Object(ne.jsx)("p",{children:"Create Your Account"}),Object(ne.jsx)("div",{children:Object(ne.jsx)("input",{type:"text",placeholder:"Name",name:"name",required:!0,value:l,onChange:function(e){return b(e)}})}),Object(ne.jsx)("div",{children:Object(ne.jsx)("input",{type:"email",placeholder:"Email Address",name:"email",required:!0,value:u,onChange:function(e){return b(e)}})}),Object(ne.jsx)("div",{children:Object(ne.jsx)("input",{type:"password",placeholder:"Password",name:"password",minLength:"6",required:!0,value:o,onChange:function(e){return b(e)}})}),Object(ne.jsx)("div",{children:Object(ne.jsx)("input",{type:"password",placeholder:"Confirm Password",name:"password2",minLength:"6",required:!0,value:d,onChange:function(e){return b(e)}})})]}),Object(ne.jsxs)("div",{className:"submit-div",children:[Object(ne.jsx)("button",{className:"btn-primary-outline",onClick:function(){return function(){if(o!==d)e.onAlert("Password do not match","danger");else{var t={name:l,email:u,password:o};e.onRegister(t)}}()},children:"Register"}),Object(ne.jsxs)("p",{className:"m-1",children:["Already have an account? ",Object(ne.jsx)(s.b,{to:"/login",children:"Sign In"})]})]})]})})),be=n(26),je=function(e){return Object(ne.jsx)("div",{className:"buttons-container",children:Object(ne.jsxs)("form",{children:[Object(ne.jsx)("input",{defaultChecked:!0,type:"radio",id:e.title1,name:"selected",onChange:function(t){return e.func(t)}}),Object(ne.jsx)("label",{style:e.title1?{display:"block"}:{display:"none"},className:"btn-light-outline",htmlFor:e.title1,children:e.title1}),Object(ne.jsx)("input",{onChange:function(t){return e.func(t)},type:"radio",className:"btn-light-outline",id:e.title2,name:"selected"}),Object(ne.jsx)("label",{style:e.title2?{display:"block"}:{display:"none"},className:"btn-light-outline",htmlFor:e.title2,children:e.title2}),Object(ne.jsx)("input",{onChange:function(t){return e.func(t)},type:"radio",className:"btn-light-outline",id:e.title3,name:"selected"}),Object(ne.jsx)("label",{style:e.title3?{display:"block"}:{display:"none"},className:"btn-light-outline",htmlFor:e.title3,children:e.title3}),Object(ne.jsx)("input",{onChange:function(t){return e.func(t)},type:"radio",className:"btn-light-outline",id:e.title4,name:"selected"}),Object(ne.jsx)("label",{style:e.title4?{display:"block"}:{display:"none"},className:"btn-light-outline",htmlFor:e.title4,children:e.title4})]})})},he=function(e){return function(t){t({type:h,payload:e})}},pe=function(){return function(e){e({type:A})}},me=n(19),Oe=Object(l.b)((function(e){return{showComponent:e.modalReducer.showEvent}}))((function(e){var t=Object(c.useState)(e.event?e.event:{smallBlind:"",bigBlind:"",minBuyin:"",maxBuyin:"",buyIn:"",startingChips:"",ante:"",timePerLevel:"",registerUntil:"",numberOfRe_entry:""}),n=Object(ae.a)(t,2),a=n[0],r=n[1],s=function(e){r(Object(le.a)(Object(le.a)({},a),{},Object(ie.a)({},e.target.name,e.target.value)))};return Object(ne.jsxs)("div",{className:"edit-modal-main event-type",children:[Object(ne.jsx)("div",{className:"btn-delete",onClick:function(){return e.setShowComp(!1)},children:Object(ne.jsx)("i",{className:"fal fa-times"})}),function(e){switch(e.toLowerCase()){case"tournament":return Object(ne.jsxs)("form",{children:[Object(ne.jsx)("p",{children:"Stracture"}),Object(ne.jsxs)("div",{className:"card-rows stracture",children:[Object(ne.jsx)("input",{type:"number",placeholder:"buyin",name:"buyIn",value:a.buyIn,onChange:function(e){return s(e)}}),Object(ne.jsx)("p",{children:"/"}),Object(ne.jsx)("input",{type:"number",placeholder:"starting-chips",name:"startingChips",value:a.startingChips,onChange:function(e){return s(e)}}),Object(ne.jsx)("p",{children:"/"}),Object(ne.jsx)("input",{type:"text",placeholder:"time-per-level",name:"timePerLevel",value:a.timePerLevel,onChange:function(e){return s(e)}})]}),Object(ne.jsx)("p",{children:"Starting-Blinds"}),Object(ne.jsxs)("div",{className:"card-rows",children:[Object(ne.jsx)("input",{type:"number",placeholder:"small-blind",name:"smallBlind",value:a.smallBlind,onChange:function(e){return s(e)}}),Object(ne.jsx)("p",{children:"/"}),Object(ne.jsx)("input",{type:"number",placeholder:"big-blind",name:"bigBlind",value:a.bigBlind,onChange:function(e){return s(e)}}),Object(ne.jsx)("p",{children:"/"}),Object(ne.jsx)("input",{type:"number",placeholder:"ante",name:"ante",value:a.ante,onChange:function(e){return s(e)}})]}),Object(ne.jsx)("p",{children:"Info"}),Object(ne.jsxs)("div",{className:"card-rows",children:[Object(ne.jsx)("input",{type:"text",placeholder:"late-reg",name:"registerUntil",value:a.registerUntil,onChange:function(e){return s(e)}}),Object(ne.jsx)("input",{type:"text",placeholder:"re-entry",name:"numberOfRe_entry",value:a.numberOfRe_entry,onChange:function(e){return s(e)}})]})]});case"cash game":return Object(ne.jsxs)("form",{children:[Object(ne.jsx)("p",{children:"Blinds"}),Object(ne.jsxs)("div",{className:"card-rows",children:[Object(ne.jsx)("div",{children:Object(ne.jsx)("input",{type:"number",placeholder:"small-blind",name:"smallBlind",value:a.smallBlind,onChange:function(e){return s(e)}})}),Object(ne.jsx)("p",{children:"/"}),Object(ne.jsx)("div",{children:Object(ne.jsx)("input",{type:"number",placeholder:"big-blind",name:"bigBlind",value:a.bigBlind,onChange:function(e){return s(e)}})})]}),Object(ne.jsx)("p",{children:"Buyins"}),Object(ne.jsxs)("div",{className:"card-rows",children:[Object(ne.jsx)("div",{children:Object(ne.jsx)("input",{type:"number",placeholder:"max-buyin",name:"maxBuyin",value:a.maxBuyin,onChange:function(e){return s(e)}})}),Object(ne.jsx)("p",{children:"/"}),Object(ne.jsx)("div",{children:Object(ne.jsx)("input",{type:"number",placeholder:"min-buyin",name:"minBuyin",value:a.minBuyin,onChange:function(e){return s(e)}})})]})]});default:return}}(e.type),Object(ne.jsx)("div",{className:"edit-modal-footer",children:Object(ne.jsx)("button",{className:"btn-light-outline",onClick:function(){return t=a,e.eventTypeData(t),void e.setShowComp(!1);var t},children:"Submit"})})]})})),xe=n(29),fe=n.n(xe),ve=function(e){var t=Object(c.useState)(null),n=Object(ae.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)({lat:"",lng:""}),i=Object(ae.a)(s,2),l=(i[0],i[1]),u={streetNumber:"",street:"",city:"",neighborhood:"",region:"",state:"",country:"",postcode:"",coordinates:""},b=function(e){e.map((function(e){switch(e.types[0]){case"street_number":u.streetNumber="".concat(e.long_name," ").concat(u.streetNumber);break;case"route":u.street+=e.long_name;break;case"postal_code":u.postcode="".concat(e.long_name).concat(u.postcode);break;case"locality":u.city=e.long_name;break;case"neighborhood":u.neighborhood=e.long_name;break;case"administrative_area_level_1":u.region=e.long_name;break;case"country":u.country=e.long_name;break;default:return u}}))},j=function(){var t=Object(d.a)(o.a.mark((function t(n){var c,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(xe.geocodeByAddress)(n);case 3:return c=t.sent,t.next=6,Object(xe.getLatLng)(c[0]);case 6:a=t.sent,l(a),r(n),u.coordinates=a,b(c[0].address_components),e.onChangeAddress(u),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.error("Error",t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}();return Object(ne.jsx)("div",{children:Object(ne.jsx)(me.b,{googleMapsApiKey:"AIzaSyAyw8__eVgql-00alyPf7f-h3fdzOPzM5U",libraries:["places"],children:Object(ne.jsx)(fe.a,{value:a||"",onChange:r,onSelect:j,children:function(e){var t=e.getInputProps,n=e.suggestions,c=e.getSuggestionItemProps,a=e.loading;return Object(ne.jsxs)("div",{className:"location-search-input",children:[Object(ne.jsx)("input",Object(le.a)({},t({placeholder:"Event address ...",className:"search-input"}))),Object(ne.jsxs)("div",{children:[a?Object(ne.jsx)("div",{children:"...Loading"}):null,n.map((function(e){var t=e.active?"suggestion-active":"suggestion-not-active";return Object(ne.jsx)("div",Object(le.a)(Object(le.a)({},c(e,{className:t})),{},{children:e.description}),e)}))]})]})}})})})},ge=(n(28),n(46)),ye=n.n(ge),Ne=n(23),Ce=n.n(Ne),Ee=function(e){Ce.a.defaultFormat="DD/MM/YY\ud83d\udcc5  HH:mm\u231a";var t=Ce()().subtract(1,"day");return Object(ne.jsx)(ye.a,{isValidDate:function(e){return e.isAfter(t)},initialValue:null!==e.date?Ce()(e.date):Ce()(new Date),onChange:function(t){return e.onChangeHandler(t._d)},name:"eventDate",dateFormat:"DD/MM/YY\ud83d\udcc5 ",timeFormat:" HH:mm\u231a"})},ke=Object(l.b)((function(e){return{show:e.modalReducer.showEvent}}),(function(e){return{openEventType:function(){return e(pe())},editEvent:function(t){return e((n=t,function(){var e=Object(d.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(F),e.prev=1,e.next=4,H.a.put("/api/events/update-event/".concat(n.club._id),n);case 4:t({type:q}),t(ee()),t(V("Event updated","success")),e.next=15;break;case 9:e.prev=9,e.t0=e.catch(1),c=e.t0.response.data.errors,console.log(e.t0.response),c.forEach((function(e){t(V(e.msg,"danger"))})),t({type:I,payload:c});case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()));var n}}}))((function(e){var t=Object(i.g)(),n=Object(c.useState)(!1),a=Object(ae.a)(n,2),r=a[0],s=a[1],l=Object(c.useState)(e.event?e.event:{eventName:"",eventDate:"",location:{street:"",streetNumber:"",city:"",neighborhood:"",country:"",state:"",coordinates:""},description:"",gameType:"",eventType:"",playersPerTable:9,numberOfTables:1,currency:"ILS",remarks:"",smallBlind:"",bigBlind:"",minBuyin:"",maxBuyin:"",buyIn:"",startingChips:"",ante:"",timePerLevel:"",registerUntil:"",numberOfRe_entry:""}),u=Object(ae.a)(l,2),o=u[0],d=u[1],b=function(e){void 0!==e.target?d(Object(le.a)(Object(le.a)({},o),{},Object(ie.a)({},e.target.name,e.target.value))):d(Object(le.a)(Object(le.a)({},o),{},{eventDate:e.toString()}))},j=(Object(me.c)({id:"google-map-script",googleMapsApiKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_GOOGLE_API_KEY,libraries:["places"]}).isLoaded,o.eventName),h=o.eventDate,p=o.location,m=(p.street,p.streetNumber,p.city,p.neighborhood,p.country,p.state,p.coordinates,o.description),O=o.gameType,x=o.playersPerTable,f=o.numberOfTables,v=o.currency;return Object(ne.jsxs)("div",{className:"edit-modal-main",children:[r?Object(ne.jsx)(Oe,{type:o.tournament?"tournament":"cash game",eventTypeData:function(e){return function(e){o.tournament?d(Object(le.a)(Object(le.a)({},o),{},{tournament:Object(le.a)({},e)})):d(Object(le.a)(Object(le.a)({},o),{},{cashGame:Object(le.a)({},e)}))}(e)},setShowComp:s,event:o.tournament?o.tournament:o.cashGame}):null,Object(ne.jsxs)("form",{children:[Object(ne.jsx)("div",{className:"edit-modal-head",children:Object(ne.jsx)("div",{className:"card-rows",children:Object(ne.jsx)("input",{type:"text",placeholder:"Event Name",name:"eventName",required:!0,defaultValue:j,onChange:function(e){return b(e)}})})}),Object(ne.jsxs)("div",{className:"edit-modal-body",children:[Object(ne.jsxs)("div",{className:"card-rows",children:[Object(ne.jsx)("p",{children:"Start At: "}),Object(ne.jsx)(Ee,{onChangeHandler:b,date:h||null})]}),Object(ne.jsxs)("div",{className:"card-rows",children:[Object(ne.jsx)("p",{children:"Event Type"}),Object(ne.jsx)("span",{onClick:function(){return s(!0)},children:Object(ne.jsx)("i",{className:"fal fa-pen"})}),Object(ne.jsxs)("select",{id:"eventType",name:"eventType",required:!0,defaultValue:o.tournament?"tournament":"cash game",select:o.tournament?"tournament":"cash game",onChange:function(e){return b(e)},children:[Object(ne.jsx)("option",{value:"",children:"Event Type"}),Object(ne.jsx)("option",{value:"cash game",children:"Cash game"}),Object(ne.jsx)("option",{value:"tournament",children:"Tournament"})]})]}),Object(ne.jsxs)("div",{className:"card-rows",children:[Object(ne.jsx)("p",{children:"Game Type"}),Object(ne.jsxs)("select",{id:"gameType",name:"gameType",required:!0,defaultValue:O,select:O,onChange:function(e){return b(e)},children:[Object(ne.jsx)("option",{value:"",children:"Game Type"}),Object(ne.jsx)("option",{value:"THNL",children:"THNL"}),Object(ne.jsx)("option",{value:"PLO",children:"PLO"}),Object(ne.jsx)("option",{value:"MIX",children:"MIX"})]})]}),Object(ne.jsxs)("div",{className:"card-rows",children:[Object(ne.jsx)("p",{children:"Currency"}),Object(ne.jsxs)("select",{name:"currency",id:"currency",required:!0,defaultValue:v||"",onChange:function(e){return b(e)},children:[Object(ne.jsx)("option",{value:"ILS",children:"ILS"}),Object(ne.jsx)("option",{value:"USD",children:"USD"}),Object(ne.jsx)("option",{value:"ERU",children:"ERU"})]})]}),Object(ne.jsx)("div",{className:"card-rows"}),Object(ne.jsxs)("div",{className:"card-rows",children:[Object(ne.jsx)("p",{children:"Players per Table"}),Object(ne.jsxs)("select",{type:"number",name:"playersPerTable",required:!0,defaultValue:x||"9",id:"playersPerTable",onChange:function(e){return b(e)},children:[Object(ne.jsx)("option",{value:"2",children:"2"}),Object(ne.jsx)("option",{value:"3",children:"3"}),Object(ne.jsx)("option",{value:"4",children:"4"}),Object(ne.jsx)("option",{value:"5",children:"5"}),Object(ne.jsx)("option",{value:"6",children:"6"}),Object(ne.jsx)("option",{value:"7",children:"7"}),Object(ne.jsx)("option",{value:"8",children:"8"}),Object(ne.jsx)("option",{value:"9",children:"9"}),Object(ne.jsx)("option",{value:"10",children:"10"})]}),Object(ne.jsx)("p",{children:"Tables"}),Object(ne.jsx)("input",{type:"number",name:"numberOfTables",id:"numberOfTables",required:!0,defaultValue:f||1,onChange:function(e){return b(e)}})]}),Object(ne.jsxs)("div",{children:[Object(ne.jsx)("p",{children:"Description"}),Object(ne.jsx)("textarea",{name:"description",form:"event-form",value:m,onChange:function(e){return b(e)},rows:"4",children:"Description"})]}),Object(ne.jsxs)("div",{children:[Object(ne.jsx)("p",{children:"Address"}),Object(ne.jsx)("div",{className:"address-line"})]})]})]}),Object(ne.jsxs)("div",{className:"edit-modal-footer",children:[Object(ne.jsx)("button",{className:"btn-light-outline",onClick:function(){return e.editEvent(o),void t.push("/")},children:"Submit"}),Object(ne.jsx)("button",{className:"btn-light-outline danger",onClick:function(){e.setDisplay(!1),d({})},children:"Cancel"})]})]})})),Re=function(e){var t=e.event,n=t.club,c=t._id,a=t.eventLogo,r=t.eventName,i=t.eventDate,l=(t.location,t.description,t.gameType),u=(t.playersPerTable,t.numberOfTables,t.currency),o=t.cashGame,d=t.tournament,b=new Date(i).toLocaleString("he-IL",{day:"2-digit",month:"2-digit",year:"2-digit",hour12:!1,hour:"2-digit",minute:"2-digit"}).split("."),j=b[0]+" / "+b[1]+" / "+b[2],h=function(){switch(u){case"ILS":return Object(ne.jsx)("i",{className:"fal fa-shekel-sign"});case"USD":return Object(ne.jsx)("i",{className:"fal fa-dolar-sign"});case"ERU":return Object(ne.jsx)("i",{className:"fal fa-euro-sign"});default:return}};return Object(ne.jsxs)("div",{className:"profile-card event-card",children:[Object(ne.jsx)("div",{className:"profile-header",children:Object(ne.jsx)("div",{children:Object(ne.jsx)("div",{className:"background-div",style:{backgroundImage:"url(".concat(a||"/images/rip.jpg",")")},children:Object(ne.jsx)("img",{src:n.clubLogo,alt:"logo"})})})}),Object(ne.jsx)("div",{className:"btn-icons",children:function(){switch(e.type){case"members":return Object(ne.jsx)("ul",{children:Object(ne.jsx)("li",{children:Object(ne.jsxs)("div",{onClick:function(){return e.eventHandler("join",c)},children:[Object(ne.jsx)("i",{className:"fal fa-chair-office"}),Object(ne.jsx)("p",{children:"Book Seat"})]})})});case"non-member":return Object(ne.jsx)("ul",{children:Object(ne.jsx)("li",{children:Object(ne.jsxs)("div",{onClick:function(){return e.eventHandler("clubJoinRequest",n._id)},children:[Object(ne.jsx)("i",{className:"fal fa-paper-plane"}),Object(ne.jsx)("p",{children:"Join Club"})]})})});case"pending":return Object(ne.jsx)("ul",{children:Object(ne.jsx)("li",{children:Object(ne.jsxs)("div",{onClick:function(){return e.eventHandler("cancelJoinRequest",n._id)},children:[Object(ne.jsx)("i",{className:"fal fa-times"}),Object(ne.jsx)("p",{children:"Pending"})]})})});case"manager":return Object(ne.jsx)("ul",{children:Object(ne.jsx)("li",{children:Object(ne.jsxs)("div",{onClick:function(){return e.eventHandler("edit",e.event)},children:[Object(ne.jsx)("i",{className:"fal fa-pen"}),Object(ne.jsx)("p",{children:"Edit"})]})})});case"player":return Object(ne.jsxs)("ul",{children:[Object(ne.jsx)("li",{children:Object(ne.jsx)(s.b,{to:{pathname:"/event",event:e.event,type:e.type,eventHandler:e.eventHandler},children:Object(ne.jsxs)("div",{children:[Object(ne.jsx)("i",{className:"fal fa-info"}),Object(ne.jsx)("p",{children:"More"})]})})}),Object(ne.jsx)("li",{children:Object(ne.jsxs)("div",{onClick:function(){return e.eventHandler("leave",c)},children:[Object(ne.jsx)("i",{className:"fal fa-sign-out"}),Object(ne.jsx)("p",{children:"Leave"})]})})]});default:return}}()}),Object(ne.jsxs)("div",{className:"profile-body",children:[Object(ne.jsx)("h3",{children:r}),o?Object(ne.jsxs)("div",{children:[Object(ne.jsxs)("p",{children:[l," Cash Game"]}),Object(ne.jsxs)("p",{children:["Blinds: ",o.smallBlind,"/",o.bigBlind," ",h()]})]}):Object(ne.jsxs)("div",{children:[Object(ne.jsxs)("p",{children:[l," Tournament"]}),Object(ne.jsxs)("p",{children:["Buyin: ",d.buyIn," ",h()]})]}),Object(ne.jsxs)("div",{children:[Object(ne.jsxs)("p",{children:["Start: ",j," ",Object(ne.jsx)("i",{className:"far fa-clock"})," "]}),Object(ne.jsxs)("p",{children:["Availble Seats ",Object(ne.jsx)("strong",{children:"3/27"})]})]})]}),Object(ne.jsx)("div",{className:"profile-footer",children:Object(ne.jsx)("button",{className:"btn btn-light-outline",children:"More"})})]})},we=function(){return Object(ne.jsx)("img",{src:"./spinner",style:{width:"200px",margin:"auto",display:"block"},alt:"Loading..."})},Te=Object(l.b)((function(e){return{allEvents:e.authReducer.allEvents,membersEvents:e.authReducer.membersEvents,createdClubs:e.authReducer.user.createdclubs,userPendingClubs:e.authReducer.user.pendingclubrequest,eventLoading:e.authReducer.eventLoading,user:e.authReducer.user}}),(function(e){return{fetchAllEvents:function(){return e(Y())},joinEvent:function(t){return e(K(t))},leaveEvent:function(t){return e(W(t))},joinRequest:function(t){return e(z(t))},cancelJoinRequest:function(t){return e(Z(t))},loadUser:function(){return e(ee())}}}))((function(e){var t=Object(c.useState)([]),n=Object(ae.a)(t,2),a=(n[0],n[1],Object(c.useState)("registered")),r=Object(ae.a)(a,2),s=(r[0],r[1],function(t,n){switch(t){case"join":e.joinEvent(n);break;case"leave":e.leaveEvent(n);break;case"clubJoinRequest":e.joinRequest(n);break;case"cancelJoinRequest":e.cancelJoinRequest(n);break;case"edit":e.setEditEvent(n),e.setDisplay(!0)}});return Object(ne.jsxs)("div",{className:"events",children:[Object(ne.jsx)("h3",{children:"Events"}),Object(ne.jsxs)("div",{className:"cards-container",children:[e.events.length>0?e.events.map((function(t){return Object(ne.jsx)(Re,{event:t,type:e.type,userPendingClubs:e.user.pendingclubrequest,setEvent:e.setEditEvent,setDisplay:e.setDisplay,eventHandler:s},t._id)})):Object(ne.jsx)("p",{children:"No Events Availble"}),e.regEvents.length>0?e.regEvents.map((function(t){return Object(ne.jsx)("div",{children:Object(ne.jsx)(Re,{event:t,type:"player",userPendingClubs:e.user.pendingclubrequest,setEvent:e.setEditEvent,setDisplay:e.setDisplay,eventHandler:s},t._id)})})):Object(ne.jsx)("p",{children:"You didn't register to any events"})]})]})})),_e=function(e){var t,n=e.club,c=n.name,a=n._id,r=(n.description,n.events),i=n.members,l=n.pendingRequest,u=n.clubLogo;switch(e.type){case"members":t=Object(ne.jsxs)("ul",{children:[Object(ne.jsx)("li",{children:Object(ne.jsx)(s.b,{to:{pathname:"/events",eventHandler:e.eventHandler,events:r},children:Object(ne.jsxs)("div",{children:[Object(ne.jsx)("i",{className:"fal fa-diamond"}),Object(ne.jsx)("p",{children:"Events"})]})})}),Object(ne.jsx)("li",{children:Object(ne.jsxs)("div",{onClick:function(){return e.eventHandler("leave",a)},children:[Object(ne.jsx)("i",{className:"fal fa-sign-out"}),Object(ne.jsx)("p",{children:"Leave"})]})})]});break;case"pending":t=Object(ne.jsx)("ul",{children:Object(ne.jsx)("li",{children:Object(ne.jsxs)("div",{onClick:function(){e.eventHandler("cancelJoinRequest",a)},children:[Object(ne.jsx)("i",{className:"fal fa-times",id:"Requests"}),Object(ne.jsx)("p",{children:"cancel Request"})]})})});break;case"non-member":t=Object(ne.jsx)("ul",{children:Object(ne.jsx)("li",{children:Object(ne.jsxs)("div",{onClick:function(){return e.eventHandler("clubJoinRequest",a)},children:[Object(ne.jsx)("i",{className:"fal fa-paper-plane"}),Object(ne.jsx)("p",{children:"Join Request"})]})})});break;case"manager":t=Object(ne.jsx)("ul",{children:Object(ne.jsx)("li",{children:Object(ne.jsxs)("div",{onClick:function(){return e.eventHandler("edit",a)},children:[Object(ne.jsx)("i",{className:"fal fa-edit"}),Object(ne.jsx)("p",{children:"Edit"})]})})})}return Object(ne.jsxs)("div",{className:"profile-card",children:[Object(ne.jsx)("div",{className:"profile-header background-div",style:{backgroundImage:"url(".concat(u,")")},children:Object(ne.jsx)("h3",{children:c})}),Object(ne.jsx)("div",{className:"btn-icons",children:t}),Object(ne.jsxs)("div",{className:"profile-body",children:[r?Object(ne.jsxs)("p",{children:["Current Events: ",r.length]}):Object(ne.jsx)("p",{children:"No events published"}),i?Object(ne.jsxs)("p",{children:["Members: ",i.length]}):Object(ne.jsx)("p",{children:"No Members Register"}),"manager"===e.type?l?Object(ne.jsxs)("p",{children:["Pending Requests: ",l.length]}):Object(ne.jsx)("p",{children:"No Pending Requests"}):null]})]})},Le=Object(l.b)((function(e){return{allClubs:e.authReducer.allClubs,clubLoading:e.authReducer.clubLoading}}),(function(e){return{loadUser:function(){return e(ee())},joinRequest:function(t){return e(z(t))},cancelJoinRequest:function(t){return e(Z(t))},leaveClub:function(t){return e($(t))},getAllClubs:function(t){return e(X(t))}}}))((function(e){var t=e.clubs;return Object(ne.jsx)("div",{className:"clubs",children:Object(ne.jsx)("div",{className:"cards-container",children:t.length>0?t.map((function(t){return Object(ne.jsx)(_e,{club:t,type:e.type,eventHandler:e.eventHandler},t._id)})):Object(ne.jsx)("p",{children:"No clubs availble"})})})})),Se=Object(l.b)((function(e){return{user:e.authReducer.user,isAuthenticated:e.authReducer.isAuthenticated,token:e.authReducer.token,loading:e.authReducer.loading,allClubs:e.authReducer.allClubs}}),(function(e){return{loadUser:function(){return e(ee())},joinRequest:function(t){return e(z(t))},cancelJoinRequest:function(t){return e(Z(t))},leaveClub:function(t){return e($(t))},getAllClubs:function(t){return e(X(t))}}}))((function(e){var t=e.user,n=t.regclubs,a=t.pendingclubrequest,r=t.createdclubs,s=Object(c.useState)(n||e.allClubs),l=Object(ae.a)(s,2),u=l[0],b=l[1],j=Object(c.useState)(n?"members":"non-member"),h=Object(ae.a)(j,2),p=h[0],m=h[1],O=Object(c.useState)(!1),x=Object(ae.a)(O,2),f=x[0],v=x[1],g=Object(c.useState)([]),y=Object(ae.a)(g,2),N=y[0],C=y[1],E=Object(c.useState)([]),k=Object(ae.a)(E,2),R=k[0],w=k[1],T=Object(c.useState)("registered"),_=Object(ae.a)(T,2),L=(_[0],_[1]),S=Object(c.useState)(!1),q=Object(ae.a)(S,2),I=q[0],A=q[1],D=Object(c.useState)({}),U=Object(ae.a)(D,2),P=U[0],B=U[1],M=Object(i.g)(),H=function(e){var t=[];return e.map((function(e){return t=[].concat(Object(be.a)(t),Object(be.a)(e.events))})),t},J=function(t){var n=H(t);return e.user.regevents.map((function(e){return n=n.filter((function(t){return t._id!==e._id}))})),n};Object(c.useEffect)((function(){switch(p){case"members":b(n),v(!1),C(J(n)),w(e.user.regevents);break;case"pending":b(a),v(!0),C(H(a));break;case"non-member":b(e.allClubs),v(!1),C(H(e.allClubs));break;case"manager":b(r),v(!1),C(H(r));break;default:return}}),[p,e.user,e.allClubs]),Object(c.useEffect)((function(){C(J(n)),w(e.user.regevents)}),[]);var V=function(){var t=Object(d.a)(o.a.mark((function t(n,c){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=n,t.next="leave"===t.t0?3:"cancelJoinRequest"===t.t0?5:"clubJoinRequest"===t.t0?7:"edit"===t.t0?9:11;break;case 3:return e.leaveClub(c),t.abrupt("break",12);case 5:return e.cancelJoinRequest(c),t.abrupt("break",12);case 7:return e.joinRequest(c),t.abrupt("break",12);case 9:return M.push("/edit-club/".concat(c)),t.abrupt("break",12);case 11:return t.abrupt("break",12);case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return e.isAuthenticated?Object(ne.jsxs)("div",{className:"dashboard",children:[Object(ne.jsxs)("div",{className:"clubs",children:[Object(ne.jsx)("h3",{children:"Clubs"}),Object(ne.jsxs)("div",{className:"circle-container",children:[Object(ne.jsx)("div",{className:"small-circle",children:n?n.length:0}),Object(ne.jsx)("div",{className:"small-circle",children:a?a.length:0}),Object(ne.jsx)("div",{className:"small-circle",children:e.allClubs?e.allClubs.length:0}),Object(ne.jsx)("div",{className:"small-circle",children:e.user.createdclubs?e.user.createdclubs.length:0})]}),Object(ne.jsx)(je,{title1:"Membership",title2:"Requests",title3:"Other",title4:"Created",func:function(e){switch(e.target.id){case"Membership":m("members");break;case"Requests":m("pending");break;case"Other":m("non-member");break;case"Created":m("manager");break;default:return}}}),Object(ne.jsx)("div",{className:"cards-container",children:Object(ne.jsx)(Le,{user:e.user,type:p,clubs:u,eventHandler:V})})]}),Object(ne.jsx)("hr",{}),Object(ne.jsx)(Te,{type:p,isPending:f,events:N,regEvents:R,setEditEvent:B,setDisplay:A}),I?Object(ne.jsx)(ke,{event:P,setDisplay:A,selectedBtn:L}):null]}):Object(ne.jsx)(i.a,{to:"/"})})),qe=function(){return function(e){e({type:C})}},Ie=function(e){return function(){var t=Object(d.a)(o.a.mark((function t(n){var c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:C}),t.next=4,H.a.get("/api/clubs/created-club/".concat(e));case 4:c=t.sent,n({type:"FETCH_CREATED_CLUB",payload:c.data}),t.next=14;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),t.t0.response.data.errors.forEach((function(e){n(V(e.msg,"danger"))})),n({type:E});case 14:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},Ae=Object(l.b)((function(e){return{loading:e.authReducer.loading,clubLoading:e.managerReducer.clubLoading}}),(function(e){return{onSubmit:function(t){return e((n=t,function(){var e=Object(d.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(qe),e.prev=1,e.next=4,H.a.post("/api/clubs",n);case 4:t(ee()),t({type:k}),e.next=14;break;case 8:e.prev=8,e.t0=e.catch(1),c=e.t0.response.data.errors,console.log(e.t0.response),c.forEach((function(e){t(V(e.msg,"danger"))})),t({type:E,payload:c});case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()));var n}}}))((function(e){var t=Object(c.useState)({clubname:"",clublogo:"",description:""}),n=Object(ae.a)(t,2),a=n[0],r=n[1],s=a.clubname,l=a.clublogo,u=a.description,o=function(e){r(Object(le.a)(Object(le.a)({},a),{},Object(ie.a)({},e.target.name,e.target.value)))};if(l.length>0){var d=document.createElement("image");d.src=URL.createObjectURL(l),d.setAttribute("width","50px"),d.setAttribute("height","50px"),document.querySelector(".preview").appendChild(d)}return e.clubLoading?Object(ne.jsxs)("div",{className:"club-main-form",children:[Object(ne.jsx)("h1",{className:"large text-primary",children:"Create New Club"}),Object(ne.jsxs)("form",{className:"form",onSubmit:function(t){return function(t){t.preventDefault();var n={name:s,clublogo:l,description:u};e.onSubmit(n)}(t)},children:[Object(ne.jsx)("div",{className:"form-group",children:Object(ne.jsx)("input",{type:"text",placeholder:"Club Name",name:"clubname",required:!0,value:s,onChange:function(e){return o(e)}})}),Object(ne.jsx)("div",{className:"form-group ",children:Object(ne.jsx)("input",{type:"texterea",placeholder:"club description",name:"description",value:u,onChange:function(e){return o(e)}})}),Object(ne.jsx)("div",{className:"submit-div",children:Object(ne.jsx)("input",{type:"submit",className:"btn btn-primary",value:"Submit"})})]})]}):Object(ne.jsx)(i.a,{to:"/admin"})})),De=Object(l.b)(null,(function(e){return{showModal:function(t){return e(he(t))}}}))((function(e){var t=Object(i.g)(),n=e.member,c=n.name,a=n.email,r=n.avatar,s=n._id,l=n.regevents;return Object(ne.jsxs)("div",{className:"profile-card members",children:[Object(ne.jsx)("div",{className:"profile-header",children:Object(ne.jsx)("img",{className:"avatar",src:r||"default-avatar.png",alt:"avatar"})}),Object(ne.jsxs)("div",{className:"profile-body",children:[Object(ne.jsx)("h3",{children:c.toUpperCase()}),"member"===e.type?Object(ne.jsxs)("p",{children:[Object(ne.jsx)("strong",{children:l.length})," Events attandent"]}):null,Object(ne.jsxs)("p",{onClick:function(){return e.sendEmail(s)},children:[Object(ne.jsx)("i",{className:"fal fa-paper-plane"})," ",a]})]}),Object(ne.jsx)("div",{className:"profile-footer",children:Object(ne.jsx)("div",{className:"btn-icons",children:function(){switch(e.type){case"member":return Object(ne.jsx)("ul",{children:Object(ne.jsx)("li",{children:Object(ne.jsxs)("div",{className:"btn-delete",onClick:function(){e.removeMember(e.member),t.push("edit-club/".concat(e.clubId))},children:[Object(ne.jsx)("i",{className:"fal fa-times"}),Object(ne.jsx)("p",{children:"Remove member"})]})})});case"pending":return Object(ne.jsxs)("ul",{children:[Object(ne.jsx)("li",{children:Object(ne.jsxs)("div",{onClick:function(){e.approveRequest(e.member),t.push("edit-club/".concat(e.clubId))},children:[Object(ne.jsx)("i",{className:"fal fa-thumbs-up"}),Object(ne.jsx)("p",{children:"Approve Request"})]})}),Object(ne.jsx)("li",{children:Object(ne.jsxs)("div",{onClick:function(){e.declineRequest(e.member),t.push("/edit-club/".concat(e.clubId))},children:[Object(ne.jsx)("i",{className:"fal fa-thumbs-down"}),Object(ne.jsx)("p",{children:"Decline Request"})]})})]});default:return}}()})})]})})),Ue=Object(l.b)((function(e){return{loading:e.authReducer.loading,clubs:e.authReducer.user.createdclubs,clubLoading:e.managerReducer.clubLoading}}),(function(e){return{onSubmit:function(t,n){return e(function(e,t){return function(){var n=Object(d.a)(o.a.mark((function n(c){var a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c(qe),n.prev=1,n.next=4,H.a.put("/api/clubs/".concat(t),e);case 4:c(ee()),n.next=13;break;case 7:n.prev=7,n.t0=n.catch(1),a=n.t0.response.data.errors,console.log(n.t0.response),a.forEach((function(e){c(V(e.msg,"danger"))})),c({type:E,payload:a});case 13:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))},onLoading:function(){return e(qe())},showModal:function(t){return e(he(t))}}}))((function(e){var t=e.match.params.id,n=Object(c.useState)({}),a=Object(ae.a)(n,2),r=a[0],s=a[1],l=Object(c.useState)("Events"),u=Object(ae.a)(l,2),o=u[0],d=u[1],b=Object(i.g)();Object(c.useEffect)((function(){s(e.clubs.filter((function(e){return e._id.toString()===t}))[0])}),[]);var j=function(e){var t=e.target,n=t.name,c=t.value;s(Object(le.a)(Object(le.a)({},r),{},Object(ie.a)({},n,c)))},h=Object(c.useState)(!1),p=Object(ae.a)(h,2),m=p[0],O=p[1],x=Object(c.useState)({}),f=Object(ae.a)(x,2),v=f[0],g=f[1];if(!e.clubLoading)return Object(ne.jsx)(i.a,{to:"/admin"});var y=function(n){e.showModal({header:"Decline Request",body:"Are you sure you want to decline ".concat(n.name.toUpperCase())+"`s Join requests?",action:{action:"declineJoinRequest",userId:n._id,clubId:t},clubId:t,userId:n._id,class:"danger"})},N=function(n){e.showModal({header:"Approve Request",body:"Are you sure you want to approve ".concat(n.name.toUpperCase())+"`s Join requests?",action:{action:"approveJoinRequest",userId:n._id,clubId:t},clubId:t,userId:n._id,class:"success"})},C=function(n){e.showModal({header:"Remove Member",body:"Are you sure you want to un-member ".concat(n.name.toUpperCase()),action:{action:"removeMember",userId:n._id,clubId:t},clubId:t,userId:n._id,class:"danger",destination:""})};return Object(ne.jsxs)(c.Fragment,{children:[m?Object(ne.jsx)(ke,{closeModal:O,event:v}):null,Object(ne.jsxs)("div",{className:"club-edit-form",children:[Object(ne.jsx)("div",{className:"form",children:Object(ne.jsxs)("div",{className:"header",children:[Object(ne.jsx)("input",{type:"text",id:"name",placeholder:"Club Name",name:"name",required:!0,defaultValue:r.name,onChange:function(e){return j(e)}}),Object(ne.jsxs)("div",{className:"header-content",children:[Object(ne.jsxs)("div",{className:"image",children:[Object(ne.jsx)("img",{src:r.clubLogo,alt:"logo.. "}),Object(ne.jsxs)("label",{className:"btn upload-btn",children:[Object(ne.jsx)("i",{className:"fal fa-image-polaroid"}),Object(ne.jsx)("input",{type:"file",accept:"image/*",placeholder:"logo",name:"logo",defaultValue:r.clubLogo,onChange:function(e){return j(e)},style:{display:"none"}})]})]}),Object(ne.jsxs)("div",{children:[Object(ne.jsx)("p",{children:"Description"}),Object(ne.jsx)("textarea",{type:"text",rows:"4",placeholder:"club description",name:"description",defaultValue:r.description,onChange:function(e){return j(e)}}),Object(ne.jsx)("div",{className:"submit-div",children:Object(ne.jsx)("button",{className:"btn-primary-outline",value:"Submit",onClick:function(){e.onSubmit(r,r._id)},children:"Update"})})]})]})]})}),Object(ne.jsx)("hr",{}),Object(ne.jsxs)("div",{className:"card-rows",children:[Object(ne.jsx)(je,{title1:"Events",title2:"Requests",title3:"Members",func:function(e){d(e.target.id)}}),Object(ne.jsx)("div",{className:"add-btn",children:Object(ne.jsx)("button",{className:"btn-primary-outline",onClick:function(){return b.push("/edit-event")},children:Object(ne.jsx)("i",{className:"fal fa-plus"})})})]}),"Events"===o?Object(ne.jsx)("div",{className:"cards-container",children:r.events?r.events.map((function(e){return Object(ne.jsx)(Re,{event:e,type:"manager",club:r,setEvent:g,setDisplay:O},e._id)})):null}):"Requests"===o?Object(ne.jsx)("div",{className:"small-card-container profile",children:r.pendingRequest&&r.pendingRequest.length>0?r.pendingRequest.map((function(e){return Object(ne.jsx)(De,{member:e.user,type:"pending",clubId:r._id,declineRequest:y,approveRequest:N},e._id)})):Object(ne.jsx)("p",{children:"No Pending Requests"})}):"Members"===o?Object(ne.jsx)("div",{className:"small-card-container",children:r.members&&r.members.length>0?r.members.map((function(e){return Object(ne.jsx)(De,{member:e.user,type:"member",clubId:r._id,removeMember:C},e._id)})):Object(ne.jsx)("p",{children:"No Club Members"})}):null]})]})})),Pe=Object(l.b)((function(e){return{show:e.modalReducer.showEvent}}),(function(e){return{openEventType:function(){return e(pe())},createEvent:function(t){return e(function(e){return function(){var t=Object(d.a)(o.a.mark((function t(n){var c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(F()),t.prev=1,t.next=4,H.a.post("/api/events/".concat(e.club),e);case 4:n({type:S}),n(V("New event created","success")),t.next=14;break;case 8:t.prev=8,t.t0=t.catch(1),c=t.t0.response.data.errors,console.log(t.t0.response),c.forEach((function(e){n(V(e.msg,"danger"))})),n({type:I,payload:c});case 14:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=Object(c.useState)({club:e.match.params.club_id,eventName:"",eventDate:new Date,eventTime:"",location:{street:"",streetNumber:"",city:"",neighborhood:"",country:"",state:"",coordinates:""},description:"",gameType:"",eventType:"",playersPerTable:9,numberOfTables:1,currency:"ILS",remarks:"",smallBlind:"",bigBlind:"",minBuyin:"",maxBuyin:"",buyIn:"",startingChips:"",ante:"",timePerLevel:"",registerUntil:"",numberOfRe_entry:""}),n=Object(ae.a)(t,2),a=n[0],r=n[1],s=function(t){if("select"===t.target.localName){var n=t.target.options.selectedIndex;"eventType"===t.target.id&&""!==t.target.id&&e.openEventType(a),r(Object(le.a)(Object(le.a)({},a),{},Object(ie.a)({},t.target.id,t.target[n].value)))}else r(Object(le.a)(Object(le.a)({},a),{},Object(ie.a)({},t.target.name,t.target.value)))},i=a.club,l=a.eventName,u=a.eventDate,o=a.eventTime,d=a.location,b=d.street,j=d.streetNumber,h=d.city,p=d.neighborhood,m=d.country,O=d.state,x=d.coordinates,f=a.description,v=a.gameType,g=a.eventType,y=a.playersPerTable,N=a.numberOfTables,C=a.currency,E=a.remarks,k=a.smallBlind,R=a.bigBlind,w=a.minBuyin,T=a.maxBuyin,_=a.buyIn,L=a.startingChips,S=a.ante,q=a.timePerLevel,I=a.registerUntil,A=a.numberOfRe_entry;return Object(ne.jsx)(c.Fragment,{children:Object(ne.jsxs)("div",{className:"create-event",onSubmit:function(t){return function(t){t.preventDefault();var n={club:i,eventName:l,eventDate:u,eventTime:o,location:{street:b,streetNumber:j,city:h,neighborhood:p,country:m,state:O,coordinates:x},description:f,gameType:v,eventType:g,playersPerTable:y,numberOfTables:N,currency:C,remarks:E,smallBlind:k,bigBlind:R,minBuyin:w,maxBuyin:T,buyIn:_,startingChips:L,ante:S,timePerLevel:q,registerUntil:I,numberOfRe_entry:A};e.createEvent(n)}(t)},children:[Object(ne.jsxs)("h2",{children:["New event for club ",e.location.club]}),Object(ne.jsx)(Oe,{type:a.eventType,eventTypeData:function(e){return function(e){r(Object(le.a)(Object(le.a)({},a),e))}(e)}}),Object(ne.jsxs)("form",{id:"event-form",className:"card-columns",children:[Object(ne.jsxs)("div",{className:"card-rows",children:[Object(ne.jsxs)("div",{className:"form-group",children:[Object(ne.jsx)("p",{children:"Event Name"}),Object(ne.jsx)("input",{type:"text",placeholder:"Event Name",name:"eventName",required:!0,value:a.eventName,onChange:function(e){return s(e)}})]}),Object(ne.jsxs)("div",{className:"form-group",children:[Object(ne.jsx)("p",{children:"Date"}),Object(ne.jsx)("input",{type:"datetime-local",placeholder:"Event date",id:"eventDate",name:"eventDate",required:!0,value:a.eventDate,onChange:function(e){return s(e)}})]})]}),Object(ne.jsxs)("div",{className:"card-rows",children:[Object(ne.jsxs)("div",{className:"form-group",children:[Object(ne.jsx)("p",{children:"Type"}),Object(ne.jsxs)("select",{id:"eventType",name:"eventType",required:!0,value:a.eventType?a.eventType:"",onChange:function(e){return s(e)},defaultValue:"cash game",children:[Object(ne.jsx)("option",{value:"",children:"Event Type"}),Object(ne.jsx)("option",{value:"cash game",children:"Cash game"}),Object(ne.jsx)("option",{value:"tournament",children:"Tournament"})]})]}),Object(ne.jsxs)("div",{className:"form-group",children:[Object(ne.jsx)("p",{children:"Game"}),Object(ne.jsxs)("select",{id:"gameType",name:"gameType",required:!0,value:a.gameType?a.gameType:"",defaultValue:"THNL",onChange:function(e){return s(e)},children:[Object(ne.jsx)("option",{value:"",children:"Game Type"}),Object(ne.jsx)("option",{value:"THNL",children:"THNL"}),Object(ne.jsx)("option",{value:"PLO",children:"PLO"}),Object(ne.jsx)("option",{value:"MIX",children:"MIX"})]})]}),Object(ne.jsxs)("div",{className:"form-group",children:[Object(ne.jsx)("p",{children:"Currency"}),Object(ne.jsxs)("select",{name:"currency",id:"currency",required:!0,value:a.currency?a.currency:"",onChange:function(e){return s(e)},children:[Object(ne.jsx)("option",{value:"ILS",children:"ILS"}),Object(ne.jsx)("option",{value:"USD",children:"USD"}),Object(ne.jsx)("option",{value:"ERU",children:"ERU"})]})]}),Object(ne.jsxs)("div",{className:"form-group",children:[Object(ne.jsx)("p",{children:"Players / Table"}),Object(ne.jsxs)("select",{type:"number",name:"playersPerTable",required:!0,value:a.playersPerTable?a.playersPerTable:"9",id:"playersPerTable",defaultValue:"9",onChange:function(e){return s(e)},children:[Object(ne.jsx)("option",{value:"2",children:"2"}),Object(ne.jsx)("option",{value:"3",children:"3"}),Object(ne.jsx)("option",{value:"4",children:"4"}),Object(ne.jsx)("option",{value:"5",children:"5"}),Object(ne.jsx)("option",{value:"6",children:"6"}),Object(ne.jsx)("option",{value:"7",children:"7"}),Object(ne.jsx)("option",{value:"8",children:"8"}),Object(ne.jsx)("option",{value:"9",children:"9"}),Object(ne.jsx)("option",{value:"10",children:"10"})]})]}),Object(ne.jsxs)("div",{className:"form-group",children:[Object(ne.jsx)("p",{children:"Tables"}),Object(ne.jsx)("input",{type:"number",name:"numberOfTables",id:"numberOfTables",required:!0,value:a.numberOfTables?a.numberOfTables:1,onChange:function(e){return s(e)}})]})]}),Object(ne.jsxs)("div",{className:"card-rows address",children:[Object(ne.jsxs)("div",{className:"card-columns",children:[Object(ne.jsx)("p",{children:"Description"}),Object(ne.jsx)("textarea",{name:"description",form:"event-form",value:a.description,onChange:function(e){return s(e)},rows:"4",cols:"40",children:"Description..."})]}),Object(ne.jsxs)("div",{className:"card-columns",children:[Object(ne.jsx)("p",{children:"Address"}),Object(ne.jsx)("div",{className:"address-line",children:Object(ne.jsx)(ve,{onChangeAddress:function(e){return function(e){r(Object(le.a)(Object(le.a)({},a),{},{location:e}))}(e)}})})]})]}),Object(ne.jsxs)("div",{className:"modal-footer",children:[Object(ne.jsx)("button",{className:"btn-success btn",children:"Submit"}),Object(ne.jsx)("button",{className:"btn-danger btn",onClick:function(){return e.history.goBack()},children:"Cancel"})]})]})]})})})),Be=Object(l.b)(null,(function(e){return{joinEvent:function(t){return e(K(t))},leaveEvent:function(t){return e(W(t))},joinRequest:function(t){return e(z(t))},loadUser:function(){return e(ee())}}}))((function(e){var t=e.history.location,n=t.type,c=t.event,a=c.club,r=c._id,l=c.eventLogo,u=c.eventName,o=c.eventDate,d=(c.location,c.description),b=c.gameType,j=c.playersPerTable,h=c.numberOfTables,p=c.currency,m=c.cashGame,O=c.tournament,x=new Date(o),f=x.getDate()+"-"+(x.getMonth()+1)+"-"+x.getFullYear(),v=(x.getHours(),x.getMinutes(),Object(i.g)()),g=function(t){switch(t){case"join":e.joinEvent(r),v.push("/");break;case"leave":e.leaveEvent(r),v.push("/dashboard");break;case"clubJoinRequest":e.joinRequest(e.club._id),v.push("/")}},y=function(){switch(p){case"ILS":return Object(ne.jsx)("i",{className:"fal fa-shekel-sign"});case"USD":return Object(ne.jsx)("i",{className:"fal fa-dolar-sign"});case"ERU":return Object(ne.jsx)("i",{className:"fal fa-euro-sign"});default:return}};return Object(ne.jsx)("div",{className:"event",children:Object(ne.jsxs)("div",{className:"profile-card event-card",children:[Object(ne.jsx)("div",{className:"profile-header",children:Object(ne.jsx)("div",{children:Object(ne.jsx)("div",{className:"background-div",style:{backgroundImage:"url(".concat(l||"/images/rip.jpg",")")},children:Object(ne.jsx)("img",{src:a.clubLogo,alt:"logo"})})})}),Object(ne.jsxs)("div",{className:"profile-body",children:[Object(ne.jsx)("h1",{children:u}),m?Object(ne.jsxs)("div",{children:[Object(ne.jsxs)("p",{children:[b," Cash Game"]}),Object(ne.jsxs)("p",{children:["Blinds: ",m.smallBlind,"/",m.bigBlind," ",y()]})]}):Object(ne.jsxs)("div",{children:[Object(ne.jsxs)("p",{children:[b," Tournament"]}),Object(ne.jsxs)("p",{children:["Buyin: ",O.buyIn," ",y()]})]}),Object(ne.jsxs)("div",{children:[Object(ne.jsxs)("p",{children:["Start: ",f," ",Object(ne.jsx)("i",{className:"far fa-clock"})," "]}),Object(ne.jsxs)("p",{children:["Availble Seats ",Object(ne.jsx)("strong",{children:"3/27"})]}),Object(ne.jsxs)("p",{children:["Description ",Object(ne.jsx)("strong",{children:d})]}),Object(ne.jsxs)("p",{children:["Players Per Table ",Object(ne.jsx)("strong",{children:j})]}),Object(ne.jsxs)("p",{children:["Number of Tables ",Object(ne.jsx)("strong",{children:h})]}),Object(ne.jsxs)("div",{className:"players",children:[Object(ne.jsx)("p",{children:"Reg Players"}),Object(ne.jsxs)("div",{className:"players-img",children:[Object(ne.jsx)("img",{src:a.clubLogo,alt:"player"}),Object(ne.jsx)("img",{src:a.clubLogo,alt:"player"}),Object(ne.jsx)("img",{src:a.clubLogo,alt:"player"})]})]})]})]}),Object(ne.jsx)("div",{className:"btn-icons",children:function(){switch(n){case"member":return Object(ne.jsx)("ul",{children:Object(ne.jsx)("li",{children:Object(ne.jsx)("span",{onClick:function(){return g("join")},children:Object(ne.jsx)("i",{className:"fal fa-chair-office"})})})});case"non-member":return Object(ne.jsx)("ul",{children:Object(ne.jsx)("li",{children:Object(ne.jsx)("span",{onClick:function(){return g("clubJoinRequest")},children:Object(ne.jsx)("i",{className:"fal fa-paper-plane"})})})});case"manager":return Object(ne.jsx)("ul",{children:Object(ne.jsx)("li",{children:Object(ne.jsx)("span",{onClick:function(){return g("edit")},children:Object(ne.jsx)("i",{className:"fal fa-edit"})})})});case"player":return Object(ne.jsxs)("ul",{children:[Object(ne.jsxs)("li",{children:[Object(ne.jsx)(s.b,{to:{pathname:"/event",event:e.event,eventHandler:g},children:Object(ne.jsx)("i",{className:"fal fa-info"})}),"More"]}),Object(ne.jsxs)("li",{children:[Object(ne.jsx)("span",{onClick:function(){return g("leave")},children:Object(ne.jsx)("i",{className:"fal fa-sign-out"})}),"Leave"]})]});default:return}}()})]})})})),Me=n(34),He=Object(l.b)((function(e){return{createdclubs:e.authReducer.user.createdclubs}}),(function(e){return{clubLoad:function(){return e(qe())},eventLoad:function(){return e(F())}}}))((function(e){return Object(ne.jsxs)("div",{className:"main-container",children:[Object(ne.jsx)("h1",{style:{margin:"0 1rem"},children:"Admin"}),Object(ne.jsxs)("div",{className:"main-body",children:[Object(ne.jsxs)("section",{className:"left",children:[Object(ne.jsxs)("div",{className:"cards-container-header",children:[Object(ne.jsx)("h3",{children:"CLUBS"}),Object(ne.jsxs)(s.b,{to:"/create-club",onClick:function(){return e.clubLoad()},children:[Object(ne.jsx)(Me.a,{})," "]})]}),Object(ne.jsx)("div",{className:"cards-container",children:e.createdclubs.length>0?e.createdclubs.map((function(e){return Object(ne.jsx)(_e,{club:e,type:"manager"},e._id)})):Object(ne.jsx)("h3",{children:"No Clubs Created"})})]}),Object(ne.jsxs)("section",{className:"right",children:[Object(ne.jsxs)("div",{className:"cards-container-header",children:[Object(ne.jsx)("h3",{children:"EVENTS"}),Object(ne.jsxs)(s.b,{to:"/create-event",onClick:function(){return e.eventLoad()},children:[Object(ne.jsx)(Me.a,{})," ",Object(ne.jsx)("i",{className:"fas fa-space-shuttle"})]})]}),Object(ne.jsx)("div",{className:"cards-container",children:Object(ne.jsx)("h3",{children:"No Events Created"})})]})]})]})})),Je=Object(l.b)(null,(function(e){return{showModal:function(t){return e(he(t))}}}))((function(e){var t=e.member,n=t.name,c=t.email,a=t.avatar,r=t._id;"pending"===e.type?new Date(Date.parse(e.member.reqdate)).toDateString():new Date(Date.parse(e.member.joined)).toDateString();return Object(ne.jsxs)("div",{className:"small-box-card profile",children:[Object(ne.jsxs)("div",{className:"card-title",children:[Object(ne.jsx)("img",{src:a||"/images/default-avatar.png",alt:"avatar"}),Object(ne.jsx)("h3",{children:n.toUpperCase()})]}),Object(ne.jsxs)("div",{className:"card-body",children:[Object(ne.jsxs)("p",{onClick:function(){return e.sendEmail(r)},children:[Object(ne.jsx)("i",{className:"fal fa-paper-plane"}),c]}),"pending"===e.type?Object(ne.jsxs)("div",{children:[Object(ne.jsxs)("p",{onClick:function(){return t=e.clubId,void e.showModal({header:"Approve Request",body:"Are you sure you want to approve ".concat(n.toUpperCase())+"`s Join requests?",action:{action:"approveJoinRequest",userId:t._id,clubId:e.clubId},clubId:e.clubId,userId:t._id,class:"blue"});var t},className:"approve",children:[Object(ne.jsx)("i",{className:"fal fa-thumbs-up"})," Approve Request"]}),Object(ne.jsxs)("p",{onClick:function(){return t=e.member,void e.showModal({header:"Decline Request",body:"Are you sure you want to decline ".concat(n.toUpperCase())+"`s Join requests?",action:{action:"declineJoinRequest",userId:t._id,clubId:e.clubId},clubId:e.clubId,userId:t._id,class:"danger"});var t},className:"decline",children:[Object(ne.jsx)("i",{className:"fal fa-thumbs-down"}),"Decline Request"]})]}):Object(ne.jsxs)("p",{onClick:function(){return t=e.member,void e.showModal({header:"Un-Member",body:"Are you sure you want to un-member ".concat(n.toUpperCase()),action:{action:"removeMember",userId:t._id,clubId:e.clubId},clubId:e.clubId,userId:t._id,class:"danger"});var t},className:"decline",children:[Object(ne.jsx)("i",{className:"fal fa-thumbs-down"}),"Remove Member"]})]})]})})),Ve=Object(l.b)((function(e){return{club:e.authReducer.createdClub,clubLoading:e.authReducer.clubLoading}}))((function(e){return Object(ne.jsxs)("div",{className:"main-container",children:[Object(ne.jsx)("h2",{className:"large text-primary",children:e.club.name}),Object(ne.jsxs)("div",{className:"main-body",children:[Object(ne.jsxs)("div",{className:"big-container",children:[Object(ne.jsx)("h5",{className:"hide-sm",children:"Pending Requests"}),Object(ne.jsx)("div",{className:"cards-container",children:e.club.pendingRequest.length>0?e.club.pendingRequest.map((function(t){return Object(ne.jsx)(Je,{member:t,type:"pending",clubId:e.club._id},t._id)})):Object(ne.jsx)("p",{children:"NO PENDING REQUESTS"})})]}),Object(ne.jsxs)("div",{className:"big-container",children:[Object(ne.jsx)("h5",{className:"hide-sm",children:"Club Members"}),Object(ne.jsx)("div",{className:"cards-container",children:void 0!==e.club.members?e.club.members.length>0?e.club.members.map((function(t){return Object(ne.jsx)(Je,{member:t,type:"members",clubId:e.club._id},t._id)})):Object(ne.jsx)("p",{children:"NO MEMBERS"}):Object(ne.jsx)(we,{})})]})]})]})}));var Ge=Object(l.b)((function(e){return{header:e.modalReducer.header,body:e.modalReducer.body,action:e.modalReducer.action,show:e.modalReducer.show,class:e.modalReducer.class}}),(function(e){return{hideModal:function(){return e((function(e){e({type:p})}))},declineJoinRequest:function(t,n){return e((c=t,a=n,function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:C}),e.next=4,H.a.put("/api/clubs/decline-request/".concat(c,"/").concat(a));case 4:t({type:T}),t(Ie(c)),e.next=14;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.t0.response.data.errors.forEach((function(e){console.log(e),t(V(e.msg,"danger"))})),t({type:E});case 14:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()));var c,a},approveJoinRequest:function(t,n){return e((c=t,a=n,function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:C}),e.next=4,H.a.put("/api/clubs/approve-request/".concat(c,"/").concat(a));case 4:t({type:w}),t(Ie(c)),e.next=14;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.t0.response.data.errors.forEach((function(e){t(V(e.msg,"danger"))})),t({type:E});case 14:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()));var c,a},removeMember:function(t,n){return e((c=t,a=n,function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:C}),e.next=4,H.a.delete("/api/clubs/remove_member/".concat(c,"/").concat(a));case 4:t({type:_}),t(V("Member removed","success")),t(ee()),e.next=15;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.t0.response.data.errors.forEach((function(e){console.log(e),t(V(e.msg,"danger"))})),t({type:E});case 15:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()));var c,a},loadUser:function(){return e(ee())}}}))((function(e){var t=Object(i.g)();return Object(ne.jsx)("div",{className:"modal-main",style:{display:e.show},children:Object(ne.jsxs)("div",{className:"modal-body",children:[Object(ne.jsx)("h2",{className:"modal-head ".concat(e.class),children:e.header}),Object(ne.jsx)("h3",{className:"modal-inner-body",children:Object(ne.jsx)("strong",{children:e.body})}),Object(ne.jsxs)("div",{className:"modal-footer",children:[Object(ne.jsx)("button",{className:"btn btn-primary-outline success",onClick:function(){return function(){switch(e.action.action){case"declineJoinRequest":e.declineJoinRequest(e.action.clubId,e.action.userId),e.loadUser(),e.hideModal(),t.push("edit-club/".concat(e.clubId));break;case"approveJoinRequest":e.approveJoinRequest(e.action.clubId,e.action.userId),e.loadUser(),e.hideModal(),t.push("edit-club/".concat(e.clubId));break;case"removeMember":e.removeMember(e.action.clubId,e.action.userId),e.loadUser(),e.hideModal(),t.push("edit-club/".concat(e.clubId))}}()},children:"Confirm"}),Object(ne.jsx)("button",{className:"btn btn-primary-outline danger",onClick:function(){e.hideModal(),t.goBack()},children:"Cancel"})]})]})})})),Fe=(n(81),n(82),n(22)),Ye=n(47),Ke=n(48),We=[],Qe={token:localStorage.getItem("token"),isAuthenticated:!1,loading:!0,user:null,allClubs:[],allEvents:[],membersEvents:[],modal:"none"},Xe={clubLoading:!0,eventLoading:!0,errors:[],members:[]},ze={show:"none",header:"",body:"",action:"",showEvent:"none",class:""},Ze=Object(Fe.combineReducers)({alertReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return[].concat(Object(be.a)(e),[t.payload]);case j:return e.filter((function(e){return e.id!==t.payload}));default:return e}},authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(le.a)(Object(le.a)({},e),{},{isAuthenticated:!0,loading:!1,user:t.payload});case m:case x:return localStorage.setItem("token",t.payload),Object(le.a)(Object(le.a)({},e),{},{token:t.payload,loading:!1});case C:return Object(le.a)(Object(le.a)({},e),{},{loading:!0});case k:case R:case w:case T:case _:case U:return Object(le.a)(Object(le.a)({},e),{},{loading:!1});case y:return Object(le.a)(Object(le.a)({},e),{},{allClubs:t.payload,loading:!1});case L:return Object(le.a)(Object(le.a)({},e),{},{loading:!0});case N:return Object(le.a)(Object(le.a)({},e),{},{allEvents:t.payload.eventsArr,membersEvents:t.payload.membersEvents,loading:!1});case P:case B:case S:case q:return Object(le.a)(Object(le.a)({},e),{},{loading:!1});case h:return Object(le.a)(Object(le.a)({},e),{},{modal:"flex"});case p:return Object(le.a)(Object(le.a)({},e),{},{modal:"none"});case E:case I:return Object(le.a)(Object(le.a)({},e),{},{loading:!1});case O:case f:case g:return localStorage.clear(),{token:null,isAuthenticated:!1,loading:!1,user:{},allClubs:[],allEvents:[],modal:"none"};default:return e}},managerReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(le.a)(Object(le.a)({},e),{},{clubLoading:!0});case k:return Object(le.a)(Object(le.a)({},e),{},{clubLoading:!1});case E:return Object(le.a)(Object(le.a)({},e),{},{clubLoading:!1,errors:t.payload});case L:return Object(le.a)(Object(le.a)({},e),{},{eventLoading:!0});default:return e}},modalReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(le.a)(Object(le.a)({},e),{},{show:"flex",header:t.payload.header,body:t.payload.body,action:t.payload.action,class:t.payload.class});case p:return Object(le.a)(Object(le.a)({},e),{},{show:"none",header:"",body:"",action:""});case A:return Object(le.a)(Object(le.a)({},e),{},{showEvent:"flex"});case D:return Object(le.a)(Object(le.a)({},e),{},{showEvent:"none"});default:return e}}}),$e=[Ye.a],et=Object(Fe.createStore)(Ze,{},Object(Ke.composeWithDevTools)(Fe.applyMiddleware.apply(void 0,$e))),tt=function(){return localStorage.token&&et.dispatch(ee()),Object(ne.jsx)(l.a,{store:et,children:Object(ne.jsxs)(s.a,{children:[Object(ne.jsx)(re,{}),Object(ne.jsx)(oe,{}),Object(ne.jsx)(Ge,{}),Object(ne.jsx)(i.b,{exact:!0,path:"/",component:ce}),Object(ne.jsxs)(i.d,{children:[Object(ne.jsx)(i.b,{path:"/dashboard",component:function(){return et.getState().authReducer.isAuthenticated?Object(ne.jsx)(Se,{isAuth:et.getState().authReducer.isAuthenticated}):Object(ne.jsx)(ce,{})}}),Object(ne.jsx)(i.b,{exact:!0,path:"/login",component:ue}),Object(ne.jsx)(i.b,{exact:!0,path:"/register",component:de}),Object(ne.jsx)(i.b,{exact:!0,path:"/admin",component:He}),Object(ne.jsx)(i.b,{exact:!0,path:"/create-club",component:Ae}),Object(ne.jsx)(i.b,{exact:!0,path:"/edit-club/:id",component:Ue}),Object(ne.jsx)(i.b,{exact:!0,path:"/clubs",component:Le}),Object(ne.jsx)(i.b,{exact:!0,path:"/events",component:Te}),Object(ne.jsx)(i.b,{exact:!0,path:"/event",component:Be}),Object(ne.jsx)(i.b,{exact:!0,path:"/create-event/:club_id",component:Pe}),Object(ne.jsx)(i.b,{exact:!0,path:"/edit-event",component:ke}),Object(ne.jsx)(i.b,{exact:!0,path:"/members/:club_name",component:Ve})]}),Object(ne.jsx)(se,{})]})})};r.a.render(Object(ne.jsx)(tt,{}),document.getElementById("root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.3f749125.chunk.js.map